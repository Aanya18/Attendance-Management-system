{% extends "base.html" %}

{% block title %}View {{ title }} - {{ super() }}{% endblock %}

{% block content %}
<div class="card shadow-sm rounded-4 overflow-hidden">
    <div class="card-header d-flex justify-content-between align-items-center bg-white py-3">
        <h4 class="mb-0 fw-bold">{{ title }}</h4>
        <form method="post" action="{{ url_for('reports.sync_sheets') }}">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-sync-alt me-1"></i> Refresh Data
            </button>
        </form>
    </div>
    <div class="card-body p-4">
        {% if sheet_url %}
            <p class="mb-3">
                <i class="fas fa-info-circle text-primary me-2"></i>
                Your attendance data is available in a Google Sheet. Click the button below to view it.
            </p>
            <a href="{{ sheet_url }}" target="_blank" class="btn btn-primary">
                <i class="fas fa-external-link-alt me-1"></i>
                Open Google Sheet
            </a>
        {% else %}
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle me-2"></i>
                No Google Sheet has been set up for your attendance data yet. Please mark attendance for any student to automatically create a sheet.
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
